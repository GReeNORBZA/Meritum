# Task D12-005: Zod validation schemas for subscription, billing, and status page endpoints

## What to Build

Create `packages/shared/src/schemas/platform.schema.ts` with Zod schemas:

**Subscription:**
- createCheckoutSessionSchema: { plan: enum('STANDARD_MONTHLY', 'STANDARD_ANNUAL', 'EARLY_BIRD_MONTHLY'), success_url: string().url(), cancel_url: string().url() }
- createPortalSessionSchema: { return_url: string().url() }

**Webhook:**
- stripeWebhookHeaderSchema: { 'stripe-signature': string() }

**Status page (public):**
- statusPageQuerySchema: no required fields (returns all components + active incidents)
- incidentHistoryQuerySchema: { page: number().int().min(1).default(1), page_size: number().int().min(1).max(50).default(20) }

**Admin — incident management:**
- createIncidentSchema: { title: string().min(1).max(200), severity: enum('minor', 'major', 'critical'), affected_components: array(string().uuid()).min(1), message: string().min(1) }
- updateIncidentSchema: { status: enum('investigating', 'identified', 'monitoring', 'resolved'), message: string().min(1) }
- updateComponentStatusSchema: { status: enum('operational', 'degraded', 'partial_outage', 'major_outage', 'maintenance') }

**Admin — subscription management:**
- adminSubscriptionQuerySchema: { status: enum(SUBSCRIPTION_STATUSES).optional(), page: number().int().min(1).default(1), page_size: number().int().min(1).max(100).default(50) }

Export all schemas and inferred TypeScript types.

## Prerequisites

This task depends on the following completed tasks: D12-001

## FRD Reference

Domain 12 Section 2.6: Stripe Customer Portal for self-service billing. Section 5.2: Incident management with 4 states.

## Run After Completion

```bash
pnpm --filter shared build
```

All tests must pass before outputting [TASK_COMPLETE].
