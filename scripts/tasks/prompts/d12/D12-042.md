# Task D12-042: Security: cross-user isolation (tenant scoping)

## What to Build

Create `apps/api/test/security/platform/platform.scoping.security.ts`.

Create two physician accounts (physician1, physician2) using createSecurityPair fixture.

**Subscription isolation:**
- GET /subscriptions/current as physician1 returns only physician1's subscription
- GET /subscriptions/current as physician2 returns only physician2's subscription
- Physician1 cannot see physician2's payment history via GET /subscriptions/payments

**Admin override verified:**
- Admin CAN see all subscriptions via GET /admin/subscriptions
- Admin CAN update any subscription status (but this is admin-only)

**Webhook isolation:**
- Webhook event for physician1's Stripe customer only affects physician1's subscription

**Important:** Cross-user access attempts return 404, not 403.

## Prerequisites

This task depends on the following completed tasks: D12-031, D12-032

## Run After Completion

```bash
pnpm --filter api vitest run test/security/platform/platform.scoping.security.ts
```

All tests must pass before outputting [TASK_COMPLETE].
