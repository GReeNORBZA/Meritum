# Task D12-001: Subscription constants, plan enums, dunning step definitions, webhook event types

## What to Build

Create `packages/shared/src/constants/platform.constants.ts` with all Platform Operations constants:

**Subscription plans enum:**
- STANDARD_MONTHLY ($279/month)
- STANDARD_ANNUAL ($2,790/year)
- EARLY_BIRD_MONTHLY ($199/month, first 100 physicians, first 12 months)

**Subscription statuses enum:**
- TRIAL, ACTIVE, PAST_DUE, SUSPENDED, CANCELLED

**Payment statuses enum:**
- PAID, FAILED, REFUNDED

**Dunning steps (5 steps):**
- STEP_1: Day 0 — payment failed notification, Stripe auto-retry in 3 days
- STEP_2: Day 3 — second notification if retry fails
- STEP_3: Day 7 — warning: suspension in 7 days
- STEP_4: Day 14 — account SUSPENDED, submission blocked, read-only access
- STEP_5: Day 30 — subscription cancelled, 30-day deletion grace period

**Stripe webhook events enum:**
- INVOICE_PAID, INVOICE_PAYMENT_FAILED, INVOICE_CREATED
- SUBSCRIPTION_UPDATED, SUBSCRIPTION_DELETED
- CHECKOUT_SESSION_COMPLETED

**Feature access matrix (frozen object):**
Map each subscription status to allowed features:
- ACTIVE: all features
- PAST_DUE: all features (full access during grace)
- SUSPENDED: no claim_create, no batch_submit, no ai_coach, dashboards read-only, settings payment-only
- CANCELLED: no access except data export for 30 days

**Incident statuses enum:**
- INVESTIGATING, IDENTIFIED, MONITORING, RESOLVED

**Status component names:**
- WEB_APP, API, HLINK_SUBMISSION, WCB_SUBMISSION, AI_COACH, EMAIL_DELIVERY, DATABASE, PAYMENT_PROCESSING

**Component health statuses:**
- OPERATIONAL, DEGRADED, PARTIAL_OUTAGE, MAJOR_OUTAGE, MAINTENANCE

**GST rate:** 0.05 (5%)
**Early bird cap:** 100 physicians
**Deletion grace period:** 30 days
**Dunning suspension day:** 14
**Dunning cancellation day:** 30

Export all as frozen objects / TypeScript enums.

## FRD Reference

Domain 12 Section 2.1: Three pricing tiers — standard monthly ($279), standard annual ($2,790), early bird monthly ($199 for first 100 physicians). All CAD, GST-exclusive.
Domain 12 Section 2.4: Six Stripe webhook events. Domain 12 Section 2.5: Five dunning steps over 30 days.
Domain 12 Section 3.1: Five subscription states (TRIAL, ACTIVE, PAST_DUE, SUSPENDED, CANCELLED). Domain 12 Section 3.2: Feature access matrix per status.
Domain 12 Section 5.1: Eight monitored components. Section 5.2: Four incident states.

## Run After Completion

```bash
pnpm --filter shared build
```

All tests must pass before outputting [TASK_COMPLETE].
