# Task D02-007: Zod validation schemas for search, lookup, and public endpoints

## What to Build

Create `packages/shared/src/schemas/reference.schema.ts` with Zod schemas for user-facing endpoints:

**HSC search:**
```ts
hscSearchSchema = z.object({
  q: z.string().min(1).max(100),
  specialty: z.string().optional(),
  facility: z.string().optional(),
  date: z.string().date().optional(),
  limit: z.number().int().min(1).max(50).default(10),
})
```

**HSC detail:**
```ts
hscDetailParamSchema = z.object({
  code: z.string().max(10),
})
hscDetailQuerySchema = z.object({
  date: z.string().date().optional(),
})
```

**HSC favourites:** No params required.

**DI search:**
```ts
diSearchSchema = z.object({
  q: z.string().min(1).max(100),
  specialty: z.string().optional(),
  limit: z.number().int().min(1).max(50).default(10),
})
```

**DI detail:**
```ts
diDetailParamSchema = z.object({
  code: z.string().max(10),
})
```

**Modifier lookup:**
```ts
modifierLookupSchema = z.object({
  hsc: z.string().max(10).optional(),
  date: z.string().date().optional(),
})
```

**Modifier detail:**
```ts
modifierDetailParamSchema = z.object({
  code: z.string().max(10),
})
```

**Functional centres:**
```ts
fcListSchema = z.object({
  facility_type: z.string().optional(),
})
```

**Explanatory code:**
```ts
explCodeParamSchema = z.object({
  code: z.string().max(10),
})
```

**RRNP lookup:**
```ts
rrnpLookupSchema = z.object({
  date: z.string().date().optional(),
})
rrnpParamSchema = z.object({
  community_id: z.string().uuid(),
})
```

**PCPCM lookup:**
```ts
pcpcmLookupSchema = z.object({
  date: z.string().date().optional(),
})
pcpcmParamSchema = z.object({
  hsc_code: z.string().max(10),
})
```

**Holiday list:**
```ts
holidayListSchema = z.object({
  year: z.number().int().min(2020).max(2100),
})
```

**Holiday check:**
```ts
holidayCheckSchema = z.object({
  date: z.string().date(),
})
```

**Change summaries:**
```ts
changeListSchema = z.object({
  dataset: z.string().optional(),
  since: z.string().date().optional(),
})
```

**Change detail:**
```ts
changeDetailParamSchema = z.object({
  version_id: z.string().uuid(),
})
changeDetailQuerySchema = z.object({
  specialty: z.string().optional(),
})
```

Export all schemas and inferred TypeScript types using `z.infer<typeof ...>`. Follow the same patterns used in existing Zod schema files (e.g., `packages/shared/src/schemas/iam.schema.ts`). See `CLAUDE.md` for coding conventions.

## Prerequisites

- D02-001 must be complete (reference constants for enum values).

## FRD Reference

- Domain 2 Section 4.1: 13 search/lookup endpoints. Section 4.4: 3 change summary endpoints. All require date-of-service parameter for version awareness.

## Run After Completion

```bash
pnpm --filter shared build
```

All tests must pass before outputting [TASK_COMPLETE].
