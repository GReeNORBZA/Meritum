# Task D05-004: Drizzle schema for practice_locations table

## What to Build

Add to `packages/shared/src/schemas/db/provider.schema.ts`:

**practice_locations table:**

| Column | Type | Constraints | Notes |
|--------|------|-------------|-------|
| location_id | UUID | PK | Default: gen_random_uuid() |
| provider_id | UUID FK | NOT NULL, FK -> providers | |
| name | VARCHAR(100) | NOT NULL | Physician-assigned name (e.g., 'Main Clinic', 'Edson Hospital') |
| functional_centre | VARCHAR(10) | NOT NULL | AHCIP functional centre code |
| facility_number | VARCHAR(10) | NULLABLE | Facility number for hospital-based locations |
| address_line_1 | VARCHAR(100) | NULLABLE | Street address |
| address_line_2 | VARCHAR(100) | NULLABLE | |
| city | VARCHAR(50) | NULLABLE | |
| province | VARCHAR(2) | NULLABLE, DEFAULT 'AB' | |
| postal_code | VARCHAR(7) | NULLABLE | |
| community_code | VARCHAR(10) | NULLABLE | Community code for RRNP eligibility lookup |
| rrnp_eligible | BOOLEAN | NOT NULL, DEFAULT false | Derived from community_code via Reference Data |
| rrnp_rate | DECIMAL(8,2) | NULLABLE | Current RRNP rate, cached from Reference Data, refreshed quarterly |
| is_default | BOOLEAN | NOT NULL, DEFAULT false | Primary practice location. Used as default on new claims |
| is_active | BOOLEAN | NOT NULL, DEFAULT true | Active locations appear in claim creation dropdown |
| created_at | TIMESTAMPTZ | NOT NULL, DEFAULT now() | |
| updated_at | TIMESTAMPTZ | NOT NULL, DEFAULT now() | |

Constraints: Exactly one default location per provider where is_active = true (enforced at service layer). community_code validated against Reference Data.

Indexes: (provider_id, is_active), (provider_id, is_default).

Export table and inferred types (InsertLocation, SelectLocation).

Use Drizzle ORM schema definitions. Follow existing schema patterns in `packages/shared/src/schemas/db/`. See `CLAUDE.md` for coding conventions.

## Prerequisites

- D05-002 must be complete (providers table defined).

## FRD Reference

- Domain 5 Section 2.3: Practice Locations table. Multi-site support and locum arrangements. Each location maps to an AHCIP functional centre. RRNP eligibility derived from community_code.

## Run After Completion

```bash
pnpm --filter shared build
```

All tests must pass before outputting [TASK_COMPLETE].
