# Task D05-002: Drizzle schema for providers table

## What to Build

Create `packages/shared/src/schemas/db/provider.schema.ts` starting with the providers table.

**providers table:**

| Column | Type | Constraints | Notes |
|--------|------|-------------|-------|
| provider_id | UUID | PK | Same value as user_id in Domain 1 users table |
| billing_number | VARCHAR(10) | NOT NULL, UNIQUE | AHCIP practitioner ID (prac ID). Used in H-Link submissions |
| cpsa_registration_number | VARCHAR(10) | NOT NULL, UNIQUE | College of Physicians & Surgeons of Alberta registration |
| first_name | VARCHAR(50) | NOT NULL | Legal first name |
| middle_name | VARCHAR(50) | NULLABLE | Legal middle name |
| last_name | VARCHAR(50) | NOT NULL | Legal last name |
| specialty_code | VARCHAR(10) | NOT NULL | Primary specialty. Maps to AHCIP specialty codes |
| specialty_description | VARCHAR(100) | NULLABLE | Human-readable specialty name |
| sub_specialty_code | VARCHAR(10) | NULLABLE | Sub-specialty if applicable |
| physician_type | VARCHAR(20) | NOT NULL | GP, SPECIALIST, LOCUM |
| status | VARCHAR(20) | NOT NULL, DEFAULT 'ACTIVE' | ACTIVE, SUSPENDED, INACTIVE |
| onboarding_completed | BOOLEAN | NOT NULL, DEFAULT false | Claims cannot be created until true |
| created_at | TIMESTAMPTZ | NOT NULL, DEFAULT now() | |
| updated_at | TIMESTAMPTZ | NOT NULL, DEFAULT now() | |

**Foreign key:** provider_id references users(user_id) in Domain 1.

**Indexes:** unique on billing_number, unique on cpsa_registration_number, index on specialty_code, index on status.

Export the table and its inferred types (InsertProvider, SelectProvider) from the schema file.

Use Drizzle ORM schema definitions from `drizzle-orm/pg-core`. Follow the schema patterns established in `packages/shared/src/schemas/db/` by prior domains. See `CLAUDE.md` for coding conventions.

## Critical Security Rules

- provider_id is the same as user_id -- this is the physician tenant isolation key. All downstream queries scope to provider_id.
- billing_number and cpsa_registration_number are professional identity, not PHI, but uniqueness constraints prevent impersonation.

## Prerequisites

- D05-001 must be complete (provider constants and enums).
- The `packages/shared/src/schemas/db/` directory must exist (created by Domain 1).

## FRD Reference

- Domain 5 Section 2.1: Providers table. One row per physician. Linked 1:1 to users table. Indexes on billing_number (unique), cpsa_registration_number (unique), specialty_code, status.

## Run After Completion

```bash
pnpm --filter shared build
```

All tests must pass before outputting [TASK_COMPLETE].
