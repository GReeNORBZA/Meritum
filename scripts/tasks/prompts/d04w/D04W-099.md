# D04W-099: Full domain test suite: all unit + integration + security tests for WCB Pathway

## Project Context
You are building **Meritum Health Technologies**, a self-serve medical billing platform for Alberta physicians (AHCIP + WCB claims). This is a monorepo with:
- `apps/api` — Fastify 5 REST API with Drizzle ORM, PostgreSQL 16
- `apps/web` — Next.js 15 frontend
- `packages/shared` — Shared Drizzle schemas, Zod validators, constants, utilities

Tech stack: TypeScript, Fastify 5, Drizzle ORM, PostgreSQL 16, Vitest + Supertest, Lucia auth.

## What to Build
Run the complete test suite for Domain 4.2 WCB Claim Pathway. Do NOT write new code unless tests fail.

1. Run all unit tests: `pnpm --filter api vitest run src/domains/wcb/`
2. Run all integration tests: `pnpm --filter api vitest run test/integration/wcb/`
3. Run all security tests: `pnpm --filter api vitest run test/security/wcb/`

If any tests fail: read the failure, fix the source code (not the tests unless the test is wrong), re-run.

After all pass, run the full suite one final time:
```bash
pnpm --filter api vitest run src/domains/wcb/ test/integration/wcb/ test/security/wcb/
```

Verify these security test files exist and are non-empty:
- test/security/wcb/wcb.authn.security.ts
- test/security/wcb/wcb.authz.security.ts
- test/security/wcb/wcb.scoping.security.ts
- test/security/wcb/wcb.input.security.ts
- test/security/wcb/wcb.leakage.security.ts
- test/security/wcb/wcb.audit.security.ts

Verify all 11 WCB tables have complete CRUD coverage.
Verify all 18 API endpoints have integration test coverage.
Verify all 8 form types have at least one validation test.

## Dependencies
This task depends on: D04W-040, D04W-041, D04W-042, D04W-043, D04W-044, D04W-045

## Tests
No specific unit tests for this task — verified by build/migration command.

## Run After Completion
After completing your changes, run:
```bash
pnpm --filter api vitest run src/domains/wcb/ test/integration/wcb/ test/security/wcb/
```
Fix any errors before finishing.
