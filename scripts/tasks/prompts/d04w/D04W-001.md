# D04W-001: WCB constants: form types, role codes, facility types, timing tiers, validation checks, batch/payment statuses, OIS codes

## Project Context
You are building **Meritum Health Technologies**, a self-serve medical billing platform for Alberta physicians (AHCIP + WCB claims). This is a monorepo with:
- `apps/api` — Fastify 5 REST API with Drizzle ORM, PostgreSQL 16
- `apps/web` — Next.js 15 frontend
- `packages/shared` — Shared Drizzle schemas, Zod validators, constants, utilities

Tech stack: TypeScript, Fastify 5, Drizzle ORM, PostgreSQL 16, Vitest + Supertest, Lucia auth.

## What to Build
Create `packages/shared/src/constants/wcb.constants.ts` with all WCB constants:

**WCB Form Types enum:**
- C050E (Physician First Report, 111 fields, 38 required)
- C050S (OIS Physician First Report, 171 fields, 70 required)
- C151 (Physician Progress Report, 136 fields, 39 required)
- C151S (OIS Physician Progress Report, 153 fields, 39 required)
- C568 (Medical Invoice, 61 fields, 17 required)
- C568A (Medical Consultation Report, 69 fields, 19 required)
- C569 (Medical Supplies Invoice, 37 fields, 18 required)
- C570 (Medical Invoice Correction, 66 fields, 18 required)

**Form type metadata:** initial vs follow-up, field count, required count, description.

**Form Section Matrix (which sections appear per form):**
Sections: General, Claimant, Practitioner, Employer, Accident, Injury, Treatment Plan, Return to Work, Attachments, Invoice.
- C050E/C050S: all 10 sections
- C151/C151S: all 10 sections
- C568: General, Claimant, Practitioner, Accident, Injury, Invoice (no Employer, Treatment, RTW, Attachments)
- C568A: General, Claimant, Practitioner, Accident, Injury, Treatment Plan, Invoice (no Employer, RTW, Attachments)
- C569: General, Claimant, Practitioner, Accident, Invoice (no Employer, Injury, Treatment, RTW, Attachments)
- C570: General, Claimant, Practitioner, Accident, Invoice (no Employer, Injury, Treatment, RTW, Attachments)

**Contract ID / Role / Form ID permission matrix (initial reports):**
- 000001 GP: C050E, C568
- 000004 OR: C568A, C568
- 000006 SP: C568A, C568
- 000006 ERS: C050E, C568
- 000006 ANE: C568A, C568
- 000022 DP: C568
- 000023 DP: C568
- 000024 VSC: C568A, C568
- 000025 VSCFAC: C568
- 000052 DP: C568
- 000053 OIS: C050S, C568
- 000065 HP: C568
- 000066 SP: C568A, C568
- 000084 NP: C050E, C568

**Follow-up form permission matrix (Contract/Role -> progress forms + can-create-from):**
- 000001 GP: C151, C568, C569, C570 from C050E/C151/C568
- 000006 ERS: C151, C568, C569, C570 from C050E/C151/C568
- 000006 SP: C568A, C568, C569, C570 from C568A/C568
- 000006 ANE: C568A, C568, C569, C570 from C568A/C568
- 000004 OR: C568A, C568, C569, C570 from C568A/C568
- 000053 OIS: C151S, C568, C569, C570 from C050S/C151S/C568
- 000084 NP: C151, C568, C570 from C050E/C151/C568

**Practitioner Role Codes (10):** GP, OR, SP, ERS, ANE, DP, VSC, VSCFAC, OIS, NP

**Facility Types (3):** C (Clinic), F (Facility Non-Hospital), H (Hospital)

**WCB Batch Statuses:** ASSEMBLING, GENERATED, VALIDATED, UPLOADED, RETURN_RECEIVED, RECONCILED, ERROR

**WCB Return Report Statuses:** COMPLETE, INVALID

**WCB Payment Status Codes:** ISS (Issued), REQ (Requested), PAE (Pending Approval), PGA (Pending Approval), PGD (Pending Decision), REJ (Rejected), DEL (Deleted)

**WCB Timing Tiers:** SAME_DAY, ON_TIME, LATE

**WCB Fee Schedule (2025):**
- C050E: same-day $94.15, on-time $85.80, late $54.08
- C151: same-day $57.19, on-time $52.12, late $32.86
- RF01E (Specialist Consultation): same-day $115.05, on-time $104.87, late $66.09
- RF03E (Specialist Follow-up): same-day $57.19, on-time $52.12, late $32.86

**Timing Deadline Rules per form type:**
- C050E: same-day = exam day or next biz day by 10:00 MT; on-time = within 3 biz days (by 10:00 MT day 4)
- C151: same-day = exam day or next biz day by 10:00 MT; on-time = within 4 biz days (by 10:00 MT day 5)
- C568A: same-day = exam day or next biz day by 10:00 MT; on-time = within 4 biz days (by 10:00 MT day 5)

**Alberta Statutory Holidays (10):** New Year's Day, Family Day, Good Friday, Victoria Day, Canada Day, Heritage Day, Labour Day, Truth and Reconciliation Day, Thanksgiving, Christmas Day.

**Invoice Line Types:** STANDARD, DATED, SUPPLY, WAS, SHOULD_BE

**Consultation Categories:** CONREF (Consultation/Referral), INVE (Investigation)

**WCB Validation Check IDs (16 checks from Section 4.1 pipeline):**
FORM_ID_VALID, CONTRACT_ROLE_FORM, REQUIRED_FIELDS, CONDITIONAL_LOGIC, DATA_TYPE_LENGTH, DATE_VALIDATION, POB_NOI_COMBINATION, SIDE_OF_BODY, CODE_TABLE_VALUES, SUBMITTER_TXN_FORMAT, PHN_LOGIC, INVOICE_LINE_INTEGRITY, ATTACHMENT_CONSTRAINTS, TIMING_DEADLINE, EXPEDITE_ELIGIBILITY, DUPLICATE_DETECTION

**OIS-Specific Codes:**
- Basic Work Restriction Codes: ABLE, UNABLE, LIMITED
- Extended Work Restriction Codes: ABLE, UNABLE, LIMITEDTO
- Fit For Work Codes: FIT, NOTFIT
- Restriction Codes: NORESTRICT, RESTRICTFR
- Work Level Codes: PREINJURY, LIMITATION
- OIS Family Physician Codes: OIS, FAMILY

Export all as frozen objects / TypeScript enums. Consumed by API and frontend.

## FRD References
- Domain 4.2 Section 2: 8 form types with field counts, section matrix, Contract/Role/Form permission matrices for initial and follow-up reports.
- Domain 4.2 Section 4.5: Timing tier rules and 2025 fee schedule. 10 Alberta statutory holidays for business day calculation.
- Domain 4.2 Section 5.6: Batch status lifecycle. Return file statuses. Payment status codes (7 values).
- Domain 4.2 Appendix C: OIS-specific reference code tables (7 code tables).

## Tests
No specific unit tests for this task — verified by build/migration command.

## Run After Completion
After completing your changes, run:
```bash
pnpm --filter shared build
```
Fix any errors before finishing.
