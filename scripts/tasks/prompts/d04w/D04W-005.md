# D04W-005: Drizzle schema for wcb_injuries, wcb_prescriptions, wcb_consultations, wcb_work_restrictions child tables

## Project Context
You are building **Meritum Health Technologies**, a self-serve medical billing platform for Alberta physicians (AHCIP + WCB claims). This is a monorepo with:
- `apps/api` — Fastify 5 REST API with Drizzle ORM, PostgreSQL 16
- `apps/web` — Next.js 15 frontend
- `packages/shared` — Shared Drizzle schemas, Zod validators, constants, utilities

Tech stack: TypeScript, Fastify 5, Drizzle ORM, PostgreSQL 16, Vitest + Supertest, Lucia auth.

## What to Build
Add to `packages/shared/src/schemas/db/wcb.schema.ts`:

**wcb_injuries table (1-5 per claim with Injury section):**

| Column | Type | Nullable | Notes |
|--------|------|----------|-------|
| wcb_injury_id | UUID | No | PK |
| wcb_claim_detail_id | UUID FK | No | FK -> wcb_claim_details |
| ordinal | SMALLINT | No | Position 1-5 |
| part_of_body_code | VARCHAR(10) | No | 30 valid POB codes |
| side_of_body_code | VARCHAR(10) | Yes | L, R, B. Required per POB 'Side Required' flag |
| nature_of_injury_code | VARCHAR(10) | No | 46 valid NOI codes |

Constraint: UNIQUE(wcb_claim_detail_id, ordinal). CHECK ordinal BETWEEN 1 AND 5.
Index: (wcb_claim_detail_id).

**wcb_prescriptions table (1-5 when narcotics_prescribed = Y):**

| Column | Type | Nullable | Notes |
|--------|------|----------|-------|
| wcb_prescription_id | UUID | No | PK |
| wcb_claim_detail_id | UUID FK | No | FK -> wcb_claim_details |
| ordinal | SMALLINT | No | Position 1-5 |
| prescription_name | VARCHAR(50) | No | |
| strength | VARCHAR(30) | No | |
| daily_intake | VARCHAR(30) | No | |

Constraint: UNIQUE(wcb_claim_detail_id, ordinal). CHECK ordinal BETWEEN 1 AND 5.

**wcb_consultations table (1-5 per claim with Treatment Plan):**

| Column | Type | Nullable | Notes |
|--------|------|----------|-------|
| wcb_consultation_id | UUID | No | PK |
| wcb_claim_detail_id | UUID FK | No | FK -> wcb_claim_details |
| ordinal | SMALLINT | No | Position 1-5 |
| category | VARCHAR(10) | No | CONREF or INVE |
| type_code | VARCHAR(10) | No | ORTHO, NEURO, PLASTIC, OTHER, XRAY, ULTRA, CT, MRI, EMG, OTHER |
| details | VARCHAR(50) | No | |
| expedite_requested | VARCHAR(1) | Yes | Y/N per Expedite Codes table |

Constraint: UNIQUE(wcb_claim_detail_id, ordinal). CHECK ordinal BETWEEN 1 AND 5.

**wcb_work_restrictions table (up to 11 activity types):**

| Column | Type | Nullable | Notes |
|--------|------|----------|-------|
| wcb_restriction_id | UUID | No | PK |
| wcb_claim_detail_id | UUID FK | No | FK -> wcb_claim_details |
| activity_type | VARCHAR(20) | No | SITTING, STANDING, WALKING, BENDING, TWISTING, KNEELING_SQUATTING, CLIMBING, LIFTING, PUSHING_PULLING, OVERHEAD_REACHING, DRIVING |
| restriction_level | VARCHAR(10) | No | ABLE/UNABLE for standard; ABLE/UNABLE/LIMITEDTO for OIS |
| hours_per_day | SMALLINT | Yes | For timed activities |
| max_weight | VARCHAR(10) | Yes | Weight category for LIFTING |

Constraint: UNIQUE(wcb_claim_detail_id, activity_type).

Export all tables and inferred types.

## FRD References
- Domain 4.2 Section 3.2: wcb_injuries (POB/SOB/NOI, 1-5 entries, 382 exclusion matrix). Section 3.3: wcb_prescriptions (1-5 medication entries).
- Domain 4.2 Section 3.4: wcb_consultations (CONREF/INVE, expedite flag). Section 3.5: wcb_work_restrictions (11 activity types).

## Dependencies
This task depends on: D04W-002

## Tests
No specific unit tests for this task — verified by build/migration command.

## Run After Completion
After completing your changes, run:
```bash
pnpm --filter shared build
```
Fix any errors before finishing.
